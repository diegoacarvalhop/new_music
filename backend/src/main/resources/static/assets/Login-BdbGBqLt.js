import{r,j as e}from"./react-vendor-CQulTfZ0.js";import{a as w,N as y,L as k}from"./router-MSaW0Gl8.js";import{u as C,a as S,g as L}from"./index-Cs2E90Ho.js";/* empty css              */import"./axios-D5GkNzM3.js";function q(){const{t:a}=C(),{login:m,isAuthenticated:p}=S(),g=w(),[n,x]=r.useState(""),[i,j]=r.useState(""),[o,f]=r.useState(!1),[l,b]=r.useState(!1),[c,d]=r.useState(""),[u,h]=r.useState(!1);if(p)return e.jsx(y,{to:"/",replace:!0});async function v(t){t.preventDefault(),d(""),h(!0);try{const{data:s}=await L().post("/auth/login",{email:n,senha:i});m(s,l),g("/",{replace:!0})}catch(s){const N=s&&typeof s=="object"&&"response"in s&&s.response&&typeof s.response=="object"&&s.response&&"data"in s.response&&s.response.data&&typeof s.response.data.mensagem=="string"?s.response.data.mensagem:a("auth.invalidCredentials");d(N)}finally{h(!1)}}return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("img",{src:"/Logo%20Preto.png",alt:"NEW MUSIC",className:"login-logo"}),e.jsx("p",{children:a("auth.loginWithEmail")})]}),e.jsxs("form",{onSubmit:v,className:"login-form",children:[c&&e.jsx("div",{className:"alert alert-error",children:c}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:a("auth.email")}),e.jsx("input",{id:"email",type:"email",value:n,onChange:t=>x(t.target.value),required:!0,autoComplete:"email",placeholder:a("auth.emailPlaceholder")})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"senha",children:a("auth.password")}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{id:"senha",type:o?"text":"password",value:i,onChange:t=>j(t.target.value),required:!0,autoComplete:"current-password",placeholder:"••••••••"}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(t=>!t),"aria-label":a(o?"auth.hidePassword":"auth.showPassword"),tabIndex:-1,children:e.jsxs("span",{className:`password-toggle-icon ${o?"visible":""}`,"aria-hidden":!0,children:[e.jsxs("svg",{className:"icon-eye",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e.jsxs("svg",{className:"icon-eye-off",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})]})})]})]}),e.jsx("div",{className:"form-group form-group-checkbox",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:l,onChange:t=>b(t.target.checked)}),a("auth.rememberMe")]})}),e.jsx("button",{type:"submit",className:"btn btn-primary login-btn",disabled:u,children:a(u?"auth.loggingIn":"auth.login")}),e.jsx("p",{className:"login-footer",children:e.jsx(k,{to:"/esqueci-senha",children:a("auth.forgotPassword")})})]})]})})}export{q as default};
